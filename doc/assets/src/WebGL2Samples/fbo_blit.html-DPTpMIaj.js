import"../../modulepreload-polyfill-B5Qt9EMX.js";import{g as x,l as R}from"../../utility-BL6jGTgT.js";import{W as A}from"../../WebGL-lLSa4FVc.js";const r=document.createElement("canvas");r.id="glcanvas";r.width=Math.min(window.innerWidth,window.innerHeight);r.height=r.width;document.body.appendChild(r);const E={canvasId:"glcanvas"},o=new A(E),l={vertex:{code:x("vs")},fragment:{code:x("fs"),targets:[{blend:{}}]},primitive:{topology:"triangle-list"}},B=new Float32Array([-1,-1,1,-1,1,1,1,1,-1,1,-1,-1]),P=new Float32Array([0,1,1,1,1,0,1,0,0,0,0,1]),V={position:{data:B,format:"float32x2"},texcoord:{data:P,format:"float32x2"}};R("../../assets/img/Di-3d.png",s=>{const e={x:s.width,y:s.height},f={descriptor:{size:[s.width,s.height],format:"rgba8unorm"},sources:[{image:s,flipY:!0}]},h={minFilter:"linear",magFilter:"linear"},c={descriptor:{format:"rgba8unorm",size:[e.x,e.y]}},v={minFilter:"linear",magFilter:"linear"},w={texture:{descriptor:{format:"rgba8unorm",size:[e.x,e.y]}}},u={vertices:V},b={viewport:{x:0,y:0,width:e.x,height:e.y},pipeline:l,bindingResources:{MVP:{value:new Float32Array([.8,0,0,0,0,.8,0,0,0,0,.8,0,0,0,0,1])},diffuse:{texture:f,sampler:h}},vertices:u.vertices,draw:{__type__:"DrawVertex",firstVertex:0,vertexCount:6}},d={descriptor:{colorAttachments:[{view:w,clearValue:[.3,.3,.3,1]}]},renderPassObjects:[b]},m={colorAttachments:[{view:{texture:c,baseMipLevel:0},clearValue:[.7,0,0,1]}]},g={descriptor:m},p=[],t=4,i=2;for(let a=0;a<t;a++)for(let n=0;n<t;n++)(n+a)%2||p.push([0,0,e.x,e.y,e.x/t*(n+0)+i,e.x/t*(a+0)+i,e.y/t*(n+1)-i,e.y/t*(a+1)-i,"COLOR_BUFFER_BIT","LINEAR"]);const y={__type__:"BlitFramebuffer",read:d.descriptor,draw:g.descriptor,blitFramebuffers:p},F={viewport:{x:0,y:0,width:r.width,height:r.height},bindingResources:{MVP:{value:new Float32Array([1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1])},diffuse:{texture:c,sampler:v}},vertices:u.vertices,draw:{__type__:"DrawVertex",firstVertex:0,vertexCount:6},pipeline:l},_={descriptor:{colorAttachments:[{clearValue:[0,0,0,1],loadOp:"clear"}]},renderPassObjects:[F]};o.submit({commandEncoders:[{passEncoders:[d,y,_]}]}),o.deleteFramebuffer(d.descriptor),o.deleteFramebuffer(m),o.deleteTexture(f),o.deleteTexture(c),o.deleteProgram(l)});
//# sourceMappingURL=fbo_blit.html-DPTpMIaj.js.map
