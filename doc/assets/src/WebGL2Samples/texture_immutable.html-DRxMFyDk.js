import"../../modulepreload-polyfill-B5Qt9EMX.js";import{g as d,l as S}from"../../utility-BL6jGTgT.js";import{W as v}from"../../WebGL-lLSa4FVc.js";import{s as Z}from"../../noise3D-CbGDqxYL.js";import"../../vec3-BLfYq55O.js";import"../../common-C8IKy_GC.js";(function(){const e=document.createElement("canvas");e.id="glcanvas",e.width=Math.min(window.innerWidth,window.innerHeight),e.height=e.width,document.body.appendChild(e);const x={canvasId:"glcanvas",webGLcontextId:"webgl2"},i=new v(x),t={LEFT:0,RIGHT:1,MAX:2},r=new Array(t.MAX);r[t.LEFT]={x:0,y:e.height/4,z:e.width/2,w:e.height/2},r[t.RIGHT]={x:e.width/2,y:e.height/4,z:e.width/2,w:e.height/2};const l={vertex:{code:d("vs")},fragment:{code:d("fs")}},p={vertex:{code:d("vs-3d")},fragment:{code:d("fs-3d")}},w=new Float32Array([-1,-1,1,-1,1,1,1,1,-1,1,-1,-1]),g=new Float32Array([0,1,1,1,1,0,1,0,0,0,0,1]),f={vertices:{position:{data:w,format:"float32x2"},in_texcoord:{data:g,format:"float32x2"},texcoord:{data:g,format:"float32x2"}}},{texture3D:u,sampler3D:E}=I();S("../../assets/img/Di-3d.png",function(h){const n=new Float32Array([1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]),c={descriptor:{format:"rgba8unorm",mipLevelCount:1,size:[512,512]},sources:[{image:h,flipY:!1}]},m={minFilter:"nearest",magFilter:"linear",addressModeU:"clamp-to-edge",addressModeV:"clamp-to-edge"},o={pipeline:l,bindingResources:{MVP:{value:n}},vertices:f.vertices,draw:{__type__:"DrawVertex",vertexCount:6}},s=[],a={descriptor:{colorAttachments:[{clearValue:[0,0,0,1],loadOp:"clear"}]},renderPassObjects:s};s.push({viewport:{x:r[t.LEFT].x,y:r[t.LEFT].y,width:r[t.LEFT].z,height:r[t.LEFT].w},...o,pipeline:l,bindingResources:{...o.bindingResources,diffuse:{texture:c,sampler:m}}}),s.push({viewport:{x:r[t.RIGHT].x,y:r[t.RIGHT].y,width:r[t.RIGHT].z,height:r[t.RIGHT].w},...o,pipeline:p,bindingResources:{...o.bindingResources,diffuse:{texture:u,sampler:E}}}),i.submit({commandEncoders:[{passEncoders:[a]}]}),i.deleteTexture(c),i.deleteTexture(u),i.deleteProgram(l),i.deleteProgram(p)});function I(){const n=new Uint8Array(32768);for(let o=0;o<32;++o)for(let s=0;s<32;++s)for(let a=0;a<32;++a)n[a+s*32+o*32*32]=Z([a,s,o])*256;const c={descriptor:{dimension:"3d",format:"r8uint",generateMipmap:!0,mipLevelCount:Math.log2(32),size:[32,32,32]},sources:[{__type__:"TextureDataSource",size:[32,32,32],data:n}]},m={lodMinClamp:0,lodMaxClamp:Math.log2(32),minFilter:"linear",magFilter:"linear",mipmapFilter:"linear"};return{texture3D:c,sampler3D:m}}})();
//# sourceMappingURL=texture_immutable.html-DRxMFyDk.js.map
