{"version":3,"file":"basic.html-qWCl-WT5.js","sources":["../../../../examples/src/regl-examples/basic.ts"],"sourcesContent":["import { RenderObject } from '@feng3d/render-api';\nimport { WebGL } from '@feng3d/webgl';\n\n/**\n * 让T中以及所有键值中的所有键都是可选的\n */\nexport type gPartial<T> = {\n    [P in keyof T]?: T[P] | gPartial<T[P]>;\n};\n\nconst canvas = document.createElement('canvas');\n\ncanvas.id = 'glcanvas';\ncanvas.width = window.innerWidth;\ncanvas.height = window.innerHeight;\ndocument.body.appendChild(canvas);\n\nconst webgl = new WebGL({ canvasId: 'glcanvas' });\n\nconst renderObject: RenderObject = {\n    vertices: {\n        position: {\n            data: new Float32Array([\n                -1, 0,\n                0, -1,\n                1, 1,\n            ]),\n            format: 'float32x2',\n        },\n    },\n    draw: { __type__: 'DrawVertex', vertexCount: 3 },\n    bindingResources: { color: { value: [1, 0, 0, 1] } },\n    pipeline: {\n        vertex: {\n            code: `\n                    precision mediump float;\n                    attribute vec2 position;\n                    void main () {\n                      gl_Position = vec4(position, 0, 1);\n                    }\n            ` },\n        fragment: {\n            code: `\n            precision mediump float;\n            uniform vec4 color;\n            void main () {\n              gl_FragColor = color;\n            }\n            `,\n            targets: [{ blend: {} }],\n        },\n        depthStencil: {},\n    },\n};\n\nfunction draw()\n{\n    canvas.width = canvas.clientWidth;\n    canvas.height = canvas.clientHeight;\n\n    webgl.submit({\n        commandEncoders: [{\n            passEncoders: [\n                {\n                    descriptor: { colorAttachments: [{ clearValue: [0, 0, 0, 1] }], depthStencilAttachment: { depthClearValue: 1 } },\n                    renderPassObjects: [renderObject],\n                },\n            ],\n        }],\n    });\n\n    requestAnimationFrame(draw);\n}\ndraw();\n"],"names":["canvas","webgl","WebGL","renderObject","draw"],"mappings":"6FAUA,MAAMA,EAAS,SAAS,cAAc,QAAQ,EAE9CA,EAAO,GAAK,WACZA,EAAO,MAAQ,OAAO,WACtBA,EAAO,OAAS,OAAO,YACvB,SAAS,KAAK,YAAYA,CAAM,EAEhC,MAAMC,EAAQ,IAAIC,EAAM,CAAE,SAAU,WAAY,EAE1CC,EAA6B,CAC/B,SAAU,CACN,SAAU,CACN,KAAM,IAAI,aAAa,CACnB,GAAI,EACJ,EAAG,GACH,EAAG,CAAA,CACN,EACD,OAAQ,WAAA,CACZ,EAEJ,KAAM,CAAE,SAAU,aAAc,YAAa,CAAA,EAC7C,iBAAkB,CAAE,MAAO,CAAE,MAAO,CAAC,EAAG,EAAG,EAAG,CAAC,EAAE,EACjD,SAAU,CACN,OAAQ,CACJ,KAAM;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,aAAA,EAOV,SAAU,CACN,KAAM;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,cAON,QAAS,CAAC,CAAE,MAAO,GAAI,CAAA,EAE3B,aAAc,CAAA,CAAC,CAEvB,EAEA,SAASC,GACT,CACIJ,EAAO,MAAQA,EAAO,YACtBA,EAAO,OAASA,EAAO,aAEvBC,EAAM,OAAO,CACT,gBAAiB,CAAC,CACd,aAAc,CACV,CACI,WAAY,CAAE,iBAAkB,CAAC,CAAE,WAAY,CAAC,EAAG,EAAG,EAAG,CAAC,EAAG,EAAG,uBAAwB,CAAE,gBAAiB,EAAE,EAC7G,kBAAmB,CAACE,CAAY,CAAA,CACpC,CACJ,CACH,CAAA,CACJ,EAED,sBAAsBC,CAAI,CAC9B,CACAA,EAAA"}