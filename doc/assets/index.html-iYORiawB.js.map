{"version":3,"file":"index.html-iYORiawB.js","sources":["../../examples/index.ts"],"sourcesContent":["const files = {\n    'webgl-examples': [\n        'sample1',\n        'sample2',\n        'sample3',\n        'sample4',\n        'sample5',\n        'sample6',\n        'sample7',\n        'sample8',\n    ],\n    'test': [\n        'fractalCube',\n        'RenderObjectChanges',\n        'sky',\n    ],\n    'regl-examples': [\n        'basic',\n        'batch',\n        'bunny',\n        'camera',\n        'cloth',\n        'cube',\n    ],\n    WebGL2Samples: [\n        'draw_image_space',\n        'draw_instanced',\n        'draw_primitive_restart',\n        'draw_range_arrays',\n        'fbo_blit',\n        'fbo_multisample',\n        'fbo_new_blend_equation',\n        'fbo_rtt_draw_buffers',\n        'fbo_rtt_texture_array',\n        'fbo_rtt_depth_texture',\n        'fbo_read_pixels',\n        'sampler_object',\n        'sampler_filter',\n        'sampler_wrap',\n        'glsl_centroid',\n        'glsl_flat_smooth_interpolators',\n        'glsl_non_square_matrix',\n        'query_occlusion',\n        'draw_instanced_ubo',\n        'buffer_copy',\n        'buffer_uniform',\n        'texture_2d_array',\n        'texture_3d',\n        'texture_derivative',\n        'texture_fetch',\n        'texture_format',\n        'texture_grad',\n        'texture_immutable',\n        'texture_integer',\n        'texture_lod',\n        'texture_offset',\n        'texture_pixel_store',\n        'texture_srgb',\n        'texture_vertex',\n        'transform_feedback_interleaved',\n        'transform_feedback_separated',\n        'transform_feedback_separated_2',\n        'transform_feedback_instanced',\n        'geo_vertex_format',\n    ],\n};\n\nfunction extractQuery()\n{\n    const p = window.location.search.indexOf('?q=');\n\n    if (p !== -1)\n    {\n        return window.location.search.substr(3);\n    }\n\n    return '';\n}\n\nconst panel = document.getElementById('panel') as HTMLDivElement;\nconst content = document.getElementById('content') as HTMLDivElement;\nconst viewer = document.getElementById('viewer') as HTMLIFrameElement;\n\nconst filterInput = document.getElementById('filterInput') as HTMLInputElement;\nconst clearFilterButton = document.getElementById('clearFilterButton') as HTMLAnchorElement;\n\nconst expandButton = document.getElementById('expandButton') as HTMLSpanElement;\n\nexpandButton.addEventListener('click', function (event)\n{\n    panel.classList.toggle('collapsed');\n    event.preventDefault();\n});\n\n// iOS iframe auto-resize workaround\n\nif ((/(iPad|iPhone|iPod)/g).test(navigator.userAgent))\n{\n    viewer.style.width = getComputedStyle(viewer).width;\n    viewer.style.height = getComputedStyle(viewer).height;\n    viewer.setAttribute('scrolling', 'no');\n}\n\nconst container = document.createElement('div');\n\ncontent.appendChild(container);\n\nconst button = document.createElement('div');\n\nbutton.id = 'button';\nbutton.textContent = 'View source';\nbutton.addEventListener('click', function (event)\n{\n    window.open(`https://github.com/feng3d-labs/webgl/tree/master/examples/src/${selected}.ts`);\n}, false);\nbutton.style.display = 'none';\ndocument.body.appendChild(button);\n\nconst links: { [name: string]: HTMLAnchorElement } = {};\nlet selected = null;\n\nfor (const key in files)\n{\n    const section = files[key];\n\n    const header = document.createElement('h2');\n\n    header.textContent = key;\n    header.setAttribute('data-category', key);\n    container.appendChild(header);\n\n    for (let i = 0; i < section.length; i++)\n    {\n\n        (function (file)\n        {\n            const link = document.createElement('a');\n\n            link.className = 'link';\n            link.textContent = file;\n            link.href = `src/${key}/${file}.html`;\n            link.setAttribute('target', 'viewer');\n            link.addEventListener('click', function (event)\n            {\n                if (event.button === 0)\n                {\n                    selectFile(`${key}/${file}`);\n                }\n            });\n            container.appendChild(link);\n\n            links[`${key}/${file}`] = link;\n        })(section[i]);\n    }\n}\n\nfunction loadFile(file)\n{\n    selectFile(file);\n    viewer.src = `src/${file}.html`;\n}\n\nfunction selectFile(file)\n{\n    if (selected !== null) links[selected].classList.remove('selected');\n\n    links[file].classList.add('selected');\n\n    window.location.hash = file;\n    viewer.focus();\n\n    button.style.display = '';\n    panel.classList.toggle('collapsed');\n\n    selected = file;\n}\n\nif (window.location.hash !== '')\n{\n    loadFile(window.location.hash.substring(1));\n}\nelse\n{\n    // 选择第一个对象\n    loadFile(`${Object.keys(files)[0]}/${files[Object.keys(files)[0]][0]}`);\n}\n\n// filter\n\nfilterInput.addEventListener('input', function (e)\n{\n    updateFilter();\n});\n\nclearFilterButton.addEventListener('click', function (e)\n{\n    filterInput.value = '';\n    updateFilter();\n    e.preventDefault();\n});\n\nfunction updateFilter()\n{\n    const v = filterInput.value;\n\n    if (v !== '')\n    {\n        window.history.replaceState({}, '', `?q=${v}${window.location.hash}`);\n    }\n    else\n    {\n        window.history.replaceState({}, '', window.location.pathname + window.location.hash);\n    }\n\n    const exp = new RegExp(v, 'gi');\n\n    for (const key in files)\n    {\n        const section = files[key];\n\n        for (let i = 0; i < section.length; i++)\n        {\n            filterExample(`${key}/${section[i]}`, exp);\n        }\n    }\n\n    layoutList();\n}\n\nfunction filterExample(file, exp)\n{\n    const link = links[file];\n    const res = file.match(exp);\n    let text;\n\n    if (res && res.length > 0)\n    {\n        link.classList.remove('filtered');\n\n        for (let i = 0; i < res.length; i++)\n        {\n            text = file.replace(res[i], `<b>${res[i]}</b>`);\n        }\n\n        // link.innerHTML = text;\n    }\n    else\n    {\n        link.classList.add('filtered');\n        // link.innerHTML = file;\n    }\n}\n\nfunction layoutList()\n{\n    for (const key in files)\n    {\n        let collapsed = true;\n\n        const section = files[key];\n\n        for (let i = 0; i < section.length; i++)\n        {\n            const file = `${key}/${section[i]}`;\n\n            if (!links[file].classList.contains('filtered'))\n            {\n                collapsed = false;\n                break;\n            }\n        }\n\n        const element = document.querySelector(`h2[data-category=\"${key}\"]`) as HTMLAnchorElement;\n\n        if (collapsed)\n        {\n            element.classList.add('filtered');\n        }\n        else\n        {\n            element.classList.remove('filtered');\n        }\n    }\n}\n\nfilterInput.value = extractQuery();\nupdateFilter();\n"],"names":["files","extractQuery","panel","content","viewer","filterInput","clearFilterButton","expandButton","event","container","button","selected","links","key","section","header","i","file","link","selectFile","loadFile","updateFilter","v","exp","filterExample","layoutList","res","collapsed","element"],"mappings":"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"}