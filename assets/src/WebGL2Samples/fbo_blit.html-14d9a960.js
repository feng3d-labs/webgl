import"../../modulepreload-polyfill-3cfb730f.js";import{g as x,l as R}from"../../utility-e972c1ee.js";import{W as A}from"../../WebGL-b4686ab5.js";const r=document.createElement("canvas");r.id="glcanvas";r.width=Math.min(window.innerWidth,window.innerHeight);r.height=r.width;document.body.appendChild(r);const E={canvasId:"glcanvas"},o=new A(E),d={vertex:{code:x("vs")},fragment:{code:x("fs"),targets:[{blend:{}}]},primitive:{topology:"triangle-list"}},B=new Float32Array([-1,-1,1,-1,1,1,1,1,-1,1,-1,-1]),P=new Float32Array([0,1,1,1,1,0,1,0,0,0,0,1]),V={position:{data:B,format:"float32x2"},texcoord:{data:P,format:"float32x2"}};R("../../assets/img/Di-3d.png",s=>{const e={x:s.width,y:s.height},f={size:[s.width,s.height],format:"rgba8unorm",sources:[{image:s,flipY:!0}]},h={minFilter:"linear",magFilter:"linear"},c={format:"rgba8unorm",size:[e.x,e.y]},w={minFilter:"linear",magFilter:"linear"},b={texture:{format:"rgba8unorm",size:[e.x,e.y]}},u={vertices:V},g={viewport:{x:0,y:0,width:e.x,height:e.y},pipeline:d,bindingResources:{MVP:new Float32Array([.8,0,0,0,0,.8,0,0,0,0,.8,0,0,0,0,1]),diffuse:{texture:f,sampler:h}},vertices:u.vertices,draw:{__type__:"DrawVertex",firstVertex:0,vertexCount:6}},l={descriptor:{colorAttachments:[{view:b,clearValue:[.3,.3,.3,1]}]},renderPassObjects:[g]},m={colorAttachments:[{view:{texture:c,baseMipLevel:0},clearValue:[.7,0,0,1]}]},v={descriptor:m},p=[],t=4,i=2;for(let n=0;n<t;n++)for(let a=0;a<t;a++)(a+n)%2||p.push([0,0,e.x,e.y,e.x/t*(a+0)+i,e.x/t*(n+0)+i,e.y/t*(a+1)-i,e.y/t*(n+1)-i,"COLOR_BUFFER_BIT","LINEAR"]);const y={__type__:"BlitFramebuffer",read:l.descriptor,draw:v.descriptor,blitFramebuffers:p},F={viewport:{x:0,y:0,width:r.width,height:r.height},bindingResources:{MVP:new Float32Array([1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]),diffuse:{texture:c,sampler:w}},vertices:u.vertices,draw:{__type__:"DrawVertex",firstVertex:0,vertexCount:6},pipeline:d},_={descriptor:{colorAttachments:[{clearValue:[0,0,0,1],loadOp:"clear"}]},renderPassObjects:[F]};o.submit({commandEncoders:[{passEncoders:[l,y,_]}]}),o.deleteFramebuffer(l.descriptor),o.deleteFramebuffer(m),o.deleteTexture(f),o.deleteTexture(c),o.deleteProgram(d)});
//# sourceMappingURL=fbo_blit.html-14d9a960.js.map
