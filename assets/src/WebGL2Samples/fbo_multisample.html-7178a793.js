import"../../modulepreload-polyfill-3cfb730f.js";import{g as s}from"../../utility-e972c1ee.js";import{W as x}from"../../WebGL-b4686ab5.js";import{c as p,s as E}from"../../mat4-90bd9af0.js";import{c as b,s as y}from"../../vec3-5d562fd8.js";import"../../common-d8a29b8a.js";const e=document.createElement("canvas");e.id="glcanvas";e.width=Math.min(window.innerWidth,window.innerHeight);e.height=e.width;document.body.appendChild(e);const A={canvasId:"glcanvas",webGLcontextId:"webgl2"},r=new x(A),t={TEXTURE:0,SPLASH:1,MAX:2},n=[{vertex:{code:s("vs-render")},fragment:{code:s("fs-render")}},{vertex:{code:s("vs-splash")},fragment:{code:s("fs-splash")}}],a=18,i=new Float32Array(a*2);let c;const l=.1;for(let o=0;o<a;o++)c=Math.PI*2*o/a,i[2*o]=l*Math.sin(c),i[2*o+1]=l*Math.cos(c);const P=new Float32Array([-1,-1,1,-1,1,1,1,1,-1,1,-1,-1]),S=new Float32Array([0,1,1,1,1,0,1,0,0,0,0,1]),m={x:e.width,y:e.height},d={format:"rgba8unorm",size:[m.x,m.y]},g={minFilter:"nearest",magFilter:"nearest"},f={colorAttachments:[{view:{texture:d,baseMipLevel:0},clearValue:[0,0,0,1]}],sampleCount:4},v=[{vertices:{position:{data:i,format:"float32x2"}}},{vertices:{position:{data:P,format:"float32x2"},texcoord:{data:S,format:"float32x2"}}}],h=p(),T={descriptor:f,renderObjects:[{pipeline:n[t.TEXTURE],bindingResources:{MVP:h},geometry:{primitive:{topology:"LINE_LOOP"},vertices:v[t.TEXTURE].vertices,draw:{__type__:"DrawVertex",vertexCount:a}}}]},w=b();y(w,8,8,8);const u=p();E(u,h,w);const M={descriptor:{colorAttachments:[{clearValue:[0,0,0,1],loadOp:"clear"}]},renderObjects:[{pipeline:n[t.SPLASH],bindingResources:{diffuse:{texture:d,sampler:g},MVP:u},geometry:{primitive:{topology:"triangle-list"},vertices:v[t.SPLASH].vertices,draw:{__type__:"DrawVertex",vertexCount:6}}}]};r.submit({commandEncoders:[{passEncoders:[T,M]}]});r.deleteTexture(d);r.deleteSampler(g);r.deleteFramebuffer(f);r.deleteProgram(n[t.TEXTURE]);r.deleteProgram(n[t.SPLASH]);
//# sourceMappingURL=fbo_multisample.html-7178a793.js.map
