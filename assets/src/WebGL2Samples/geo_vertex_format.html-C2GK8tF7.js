import"../../modulepreload-polyfill-B5Qt9EMX.js";import{g as A,l as P}from"../../utility-BL6jGTgT.js";import{W as U,r as y}from"../../WebGL-lLSa4FVc.js";import{c as p,t as C,p as V,a as D,i as L,r as B,b as E,d as S,m as j}from"../../mat4-BHCnbM9z.js";import{c as G,s as R}from"../../vec3-BLfYq55O.js";import"../../common-C8IKy_GC.js";const u={};(function(){let a=0,o=0,c=0;const l=new DataView(new ArrayBuffer(8)),r=new DataView(new ArrayBuffer(2)),f=1/1024;function h(t){if(t===0){o=0,a=0;return}l.setFloat64(0,t),c=l.getUint32(0)>>>20&2047,c===0&&(l.setFloat64(0,t*Math.pow(2,64)),c=(l.getUint32(0)>>>20&2047)-64),a=c-1022,o=v(t,-a)}function v(t,e){return e>1023?t*Math.pow(2,1023)*Math.pow(2,e-1023):e<-1074?t*Math.pow(2,-1074)*Math.pow(2,e+1074):t*Math.pow(2,e)}let g,d,i,s;u.encodeFloat16AsInt16=function(t){return h(t),o===0?(r.setInt16(0,0),r.getInt16(0)):(g=o<0?1:0,d=g<<15,i=0,s=0,a<=-14?(s=Math.abs(o*Math.pow(2,a+14))/f,r.setInt16(0,d+i+s),r.getInt16(0)):(o<1&&(o=o*2-1,a=a-1),i=a+15<<10,s=Math.abs(o)/f,r.setInt16(0,d+i+s),r.getInt16(0)))};let n;u.Float16Array=function(t){const e=new Int16Array(new ArrayBuffer(2*t.length)),m=new Array(t.length);for(n=0;n<t.length;++n)m[n]=u.encodeFloat16AsInt16(t[n]);return e.set(m,0),e}})();(function(){const a=document.createElement("canvas");a.id="glcanvas",a.width=Math.min(window.innerWidth,window.innerHeight),a.height=a.width,document.body.appendChild(a);const o={canvasId:"glcanvas",webGLcontextId:"webgl2",webGLContextAttributes:{antialias:!1}},c=new U(o),l={vertex:{code:A("vs")},fragment:{code:A("fs")},depthStencil:{},primitive:{topology:"triangle-list",cullFace:"back"}},r=new Float32Array([-1,-1,1,1,-1,1,1,1,1,-1,1,1,-1,-1,-1,-1,1,-1,1,1,-1,1,-1,-1,-1,1,-1,-1,1,1,1,1,1,1,1,-1,-1,-1,-1,1,-1,-1,1,-1,1,-1,-1,1,1,-1,-1,1,1,-1,1,1,1,1,-1,1,-1,-1,-1,-1,-1,1,-1,1,1,-1,1,-1]),f=u.Float16Array([0,0,-1,0,0,-1,0,0,-1,0,0,-1,0,0,1,0,0,1,0,0,1,0,0,1,0,1,0,0,1,0,0,1,0,0,1,0,0,-1,0,0,-1,0,0,-1,0,0,-1,0,-1,0,0,-1,0,0,-1,0,0,-1,0,0,1,0,0,1,0,0,1,0,0,1,0,0]),h=u.Float16Array([0,0,0,1,1,1,1,0,1,1,1,0,0,0,0,1,0,0,0,1,1,1,1,0,0,0,0,1,1,1,1,0,0,0,0,1,1,1,1,0,0,0,0,1,1,1,1,0]),v=[0,1,2,0,2,3,4,5,6,4,6,7,8,9,10,8,10,11,12,13,14,12,14,15,16,17,18,16,18,19,20,21,22,20,22,23],g={vertices:{a_position:{data:r,format:"float32x3"},a_normal:{data:f,format:"float16x4",arrayStride:6},a_texCoord:{data:h,format:"float16x2"}}},d="../../assets/img/Di-3d.png";let i,s;P(d,function(_){i={descriptor:{format:"rgba8unorm",mipLevelCount:1,size:[512,512]},sources:[{image:_,flipY:!1}]},s={minFilter:"nearest",magFilter:"nearest",addressModeU:"clamp-to-edge",addressModeV:"clamp-to-edge"},requestAnimationFrame(M)});const n=[0,0,0],t=p(),e=p(),m=G();R(m,0,0,-10),C(e,t,m);const b=p();V(b,.785,1,1,1e3);const I=p(),w=p();D(w,t),L(w,w);const x={pipeline:l,bindingResources:{u_model:{value:t},u_modelInvTrans:{value:w},u_lightPosition:{value:[0,0,5]},u_ambient:{value:.1}},vertices:g.vertices,indices:new Uint16Array(v),draw:{__type__:"DrawIndexed",indexCount:36}},F={descriptor:{colorAttachments:[{clearValue:[0,0,0,1],loadOp:"clear"}]},renderPassObjects:[x]};function M(){n[0]=.005,n[1]=.003,n[2]=9e-4,B(e,e,n[0]*Math.PI),E(e,e,n[1]*Math.PI),S(e,e,n[2]*Math.PI),j(I,b,e),y(x.bindingResources).u_viewProj={value:I},y(x.bindingResources).s_tex2D={texture:i,sampler:s},c.submit({commandEncoders:[{passEncoders:[F]}]}),requestAnimationFrame(M)}})();
//# sourceMappingURL=geo_vertex_format.html-C2GK8tF7.js.map
