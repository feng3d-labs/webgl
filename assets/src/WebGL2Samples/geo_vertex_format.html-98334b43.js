import"../../modulepreload-polyfill-3cfb730f.js";import{g as A,l as _}from"../../utility-e972c1ee.js";import{W as P}from"../../WebGL-b4686ab5.js";import{c as p,t as U,p as C,a as V,i as D,r as L,b as B,d as E,m as S}from"../../mat4-90bd9af0.js";import{c as j,s as G}from"../../vec3-5d562fd8.js";import"../../common-d8a29b8a.js";const f={};(function(){let a=0,o=0,c=0;const l=new DataView(new ArrayBuffer(8)),r=new DataView(new ArrayBuffer(2)),g=1/1024;function h(t){if(t===0){o=0,a=0;return}l.setFloat64(0,t),c=l.getUint32(0)>>>20&2047,c===0&&(l.setFloat64(0,t*Math.pow(2,64)),c=(l.getUint32(0)>>>20&2047)-64),a=c-1022,o=x(t,-a)}function x(t,e){return e>1023?t*Math.pow(2,1023)*Math.pow(2,e-1023):e<-1074?t*Math.pow(2,-1074)*Math.pow(2,e+1074):t*Math.pow(2,e)}let u,d,i,s;f.encodeFloat16AsInt16=function(t){return h(t),o===0?(r.setInt16(0,0),r.getInt16(0)):(u=o<0?1:0,d=u<<15,i=0,s=0,a<=-14?(s=Math.abs(o*Math.pow(2,a+14))/g,r.setInt16(0,d+i+s),r.getInt16(0)):(o<1&&(o=o*2-1,a=a-1),i=a+15<<10,s=Math.abs(o)/g,r.setInt16(0,d+i+s),r.getInt16(0)))};let n;f.Float16Array=function(t){const e=new Int16Array(new ArrayBuffer(2*t.length)),m=new Array(t.length);for(n=0;n<t.length;++n)m[n]=f.encodeFloat16AsInt16(t[n]);return e.set(m,0),e}})();(function(){const a=document.createElement("canvas");a.id="glcanvas",a.width=Math.min(window.innerWidth,window.innerHeight),a.height=a.width,document.body.appendChild(a);const o={canvasId:"glcanvas",webGLcontextId:"webgl2",webGLContextAttributes:{antialias:!1}},c=new P(o),l={vertex:{code:A("vs")},fragment:{code:A("fs")},depthStencil:{}},r=new Float32Array([-1,-1,1,1,-1,1,1,1,1,-1,1,1,-1,-1,-1,-1,1,-1,1,1,-1,1,-1,-1,-1,1,-1,-1,1,1,1,1,1,1,1,-1,-1,-1,-1,1,-1,-1,1,-1,1,-1,-1,1,1,-1,-1,1,1,-1,1,1,1,1,-1,1,-1,-1,-1,-1,-1,1,-1,1,1,-1,1,-1]),g=f.Float16Array([0,0,-1,0,0,-1,0,0,-1,0,0,-1,0,0,1,0,0,1,0,0,1,0,0,1,0,1,0,0,1,0,0,1,0,0,1,0,0,-1,0,0,-1,0,0,-1,0,0,-1,0,-1,0,0,-1,0,0,-1,0,0,-1,0,0,1,0,0,1,0,0,1,0,0,1,0,0]),h=f.Float16Array([0,0,0,1,1,1,1,0,1,1,1,0,0,0,0,1,0,0,0,1,1,1,1,0,0,0,0,1,1,1,1,0,0,0,0,1,1,1,1,0,0,0,0,1,1,1,1,0]),x=[0,1,2,0,2,3,4,5,6,4,6,7,8,9,10,8,10,11,12,13,14,12,14,15,16,17,18,16,18,19,20,21,22,20,22,23],u={vertices:{a_position:{data:r,format:"float32x3"},a_normal:{data:g,format:"float16x4",arrayStride:6},a_texCoord:{data:h,format:"float16x2"}}},d="../../assets/img/Di-3d.png";let i,s;_(d,function(F){i={format:"rgba8unorm",mipLevelCount:1,size:[512,512],sources:[{image:F,flipY:!1}]},s={minFilter:"nearest",magFilter:"nearest",addressModeU:"clamp-to-edge",addressModeV:"clamp-to-edge"},requestAnimationFrame(M)});const n=[0,0,0],t=p(),e=p(),m=j();G(m,0,0,-10),U(e,t,m);const I=p();C(I,.785,1,1,1e3);const v=p(),w=p();V(w,t),D(w,w);const b={pipeline:l,bindingResources:{u_model:t,u_modelInvTrans:w,u_lightPosition:[0,0,5],u_ambient:.1},geometry:{primitive:{topology:"triangle-list",cullFace:"back"},vertices:u.vertices,indices:new Uint16Array(x),draw:{__type__:"DrawIndexed",indexCount:36}}},y={descriptor:{colorAttachments:[{clearValue:[0,0,0,1],loadOp:"clear"}]},renderObjects:[b]};function M(){n[0]=.005,n[1]=.003,n[2]=9e-4,L(e,e,n[0]*Math.PI),B(e,e,n[1]*Math.PI),E(e,e,n[2]*Math.PI),S(v,I,e),b.bindingResources.u_viewProj=v,b.bindingResources.s_tex2D={texture:i,sampler:s},c.submit({commandEncoders:[{passEncoders:[y]}]}),requestAnimationFrame(M)}})();
//# sourceMappingURL=geo_vertex_format.html-98334b43.js.map
