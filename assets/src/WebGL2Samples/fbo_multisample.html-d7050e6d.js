import"../../modulepreload-polyfill-3cfb730f.js";import{g as s}from"../../utility-e972c1ee.js";import{W as x}from"../../WebGL-b4686ab5.js";import{c as p,s as E}from"../../mat4-c54c6fc0.js";import{c as P,s as b}from"../../vec3-5d562fd8.js";import"../../common-d8a29b8a.js";const e=document.createElement("canvas");e.id="glcanvas";e.width=Math.min(window.innerWidth,window.innerHeight);e.height=e.width;document.body.appendChild(e);const A={canvasId:"glcanvas",webGLcontextId:"webgl2"},r=new x(A),t={TEXTURE:0,SPLASH:1,MAX:2},n=[{vertex:{code:s("vs-render")},fragment:{code:s("fs-render")},primitive:{topology:"triangle-list"}},{vertex:{code:s("vs-splash")},fragment:{code:s("fs-splash")},primitive:{topology:"triangle-list"}}],a=18,c=new Float32Array(a*2);let i;const l=.1;for(let o=0;o<a;o++)i=Math.PI*2*o/a,c[2*o]=l*Math.sin(i),c[2*o+1]=l*Math.cos(i);const y=new Float32Array([-1,-1,1,-1,1,1,1,1,-1,1,-1,-1]),S=new Float32Array([0,1,1,1,1,0,1,0,0,0,0,1]),m={x:e.width,y:e.height},d={format:"rgba8unorm",size:[m.x,m.y]},g={minFilter:"nearest",magFilter:"nearest"},v={colorAttachments:[{view:{texture:d,baseMipLevel:0},clearValue:[0,0,0,1]}],sampleCount:4},f=[{vertices:{position:{data:c,format:"float32x2"}}},{vertices:{position:{data:y,format:"float32x2"},texcoord:{data:S,format:"float32x2"}}}],h=p(),T={descriptor:v,renderPassObjects:[{pipeline:{...n[t.TEXTURE],primitive:{topology:"LINE_LOOP"}},bindingResources:{MVP:h},vertices:f[t.TEXTURE].vertices,draw:{__type__:"DrawVertex",vertexCount:a}}]},w=P();b(w,8,8,8);const u=p();E(u,h,w);const M={descriptor:{colorAttachments:[{clearValue:[0,0,0,1],loadOp:"clear"}]},renderPassObjects:[{pipeline:n[t.SPLASH],bindingResources:{diffuse:{texture:d,sampler:g},MVP:u},vertices:f[t.SPLASH].vertices,draw:{__type__:"DrawVertex",vertexCount:6}}]};r.submit({commandEncoders:[{passEncoders:[T,M]}]});r.deleteTexture(d);r.deleteSampler(g);r.deleteFramebuffer(v);r.deleteProgram(n[t.TEXTURE]);r.deleteProgram(n[t.SPLASH]);
//# sourceMappingURL=fbo_multisample.html-d7050e6d.js.map
