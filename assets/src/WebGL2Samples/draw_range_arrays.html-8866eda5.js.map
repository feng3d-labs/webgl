{"version":3,"file":"draw_range_arrays.html-8866eda5.js","sources":["../../../../examples/src/WebGL2Samples/draw_range_arrays.ts"],"sourcesContent":["import { CanvasContext, RenderObject, RenderPass, RenderPipeline, VertexAttributes } from \"@feng3d/render-api\";\nimport { WebGL } from \"@feng3d/webgl\";\nimport { getShaderSource } from \"./utility\";\n\nconst canvas = document.createElement(\"canvas\");\ncanvas.id = \"glcanvas\";\ncanvas.width = window.innerWidth;\ncanvas.height = window.innerHeight;\ndocument.body.appendChild(canvas);\n\nconst renderingContext: CanvasContext = { canvasId: \"glcanvas\" };\nconst webgl = new WebGL(renderingContext);\n\nconst vertexPosBuffer = new Float32Array([\n    -0.8, -0.8,\n    0.8, -0.8,\n    0.8, 0.8,\n    0.8, 0.8,\n    -0.8, 0.8,\n    -0.8, -0.8,\n    -0.5, -0.5,\n    0.5, -0.5,\n    0.5, 0.5,\n    0.5, 0.5,\n    -0.5, 0.5,\n    -0.5, -0.5,\n]);\n\nconst pipeline: RenderPipeline = {\n    vertex: {\n        code: getShaderSource(\"vs\")\n    },\n    fragment: {\n        code: getShaderSource(\"fs\"),\n        targets: [{ blend: {} }],\n    },\n    primitive: { topology: \"triangle-strip\" },\n};\n\nconst vertexArray: { vertices?: VertexAttributes } = {\n    vertices: {\n        position: { data: vertexPosBuffer, format: \"float32x2\" },\n    }\n};\n\nconst vertexCount = 12;\nconst renderObject: RenderObject = {\n    pipeline,\n    vertices: vertexArray.vertices,\n    draw: undefined,\n};\n\nconst rp: RenderPass = {\n    descriptor: {\n        colorAttachments: [{\n            clearValue: [0.0, 0.0, 0.0, 1.0],\n            loadOp: \"clear\",\n        }],\n    },\n    renderPassObjects: [\n        {\n            ...renderObject,\n            viewport: { x: 0, y: 0, width: canvas.width / 2, height: canvas.height },\n            draw: { __type__: \"DrawVertex\", firstVertex: 0, vertexCount: vertexCount / 2 },\n        },\n        {\n            ...renderObject,\n            viewport: { x: canvas.width / 2, y: 0, width: canvas.width / 2, height: canvas.height },\n            draw: { __type__: \"DrawVertex\", firstVertex: 6, vertexCount: vertexCount / 2 },\n        },\n    ],\n};\n\nwebgl.submit({ commandEncoders: [{ passEncoders: [rp] }] });\n\nwebgl.deleteProgram(pipeline);\n"],"names":["canvas","renderingContext","webgl","WebGL","vertexPosBuffer","pipeline","getShaderSource","vertexArray","vertexCount","renderObject","rp"],"mappings":"2IAIA,MAAMA,EAAS,SAAS,cAAc,QAAQ,EAC9CA,EAAO,GAAK,WACZA,EAAO,MAAQ,OAAO,WACtBA,EAAO,OAAS,OAAO,YACvB,SAAS,KAAK,YAAYA,CAAM,EAEhC,MAAMC,EAAkC,CAAE,SAAU,YAC9CC,EAAQ,IAAIC,EAAMF,CAAgB,EAElCG,EAAkB,IAAI,aAAa,CACrC,IAAM,IACN,GAAK,IACL,GAAK,GACL,GAAK,GACL,IAAM,GACN,IAAM,IACN,IAAM,IACN,GAAK,IACL,GAAK,GACL,GAAK,GACL,IAAM,GACN,IAAM,GACV,CAAC,EAEKC,EAA2B,CAC7B,OAAQ,CACJ,KAAMC,EAAgB,IAAI,CAC9B,EACA,SAAU,CACN,KAAMA,EAAgB,IAAI,EAC1B,QAAS,CAAC,CAAE,MAAO,CAAA,EAAI,CAC3B,EACA,UAAW,CAAE,SAAU,gBAAiB,CAC5C,EAEMC,EAA+C,CACjD,SAAU,CACN,SAAU,CAAE,KAAMH,EAAiB,OAAQ,WAAY,CAC3D,CACJ,EAEMI,EAAc,GACdC,EAA6B,CAC/B,SAAAJ,EACA,SAAUE,EAAY,SACtB,KAAM,MACV,EAEMG,EAAiB,CACnB,WAAY,CACR,iBAAkB,CAAC,CACf,WAAY,CAAC,EAAK,EAAK,EAAK,CAAG,EAC/B,OAAQ,OAAA,CACX,CACL,EACA,kBAAmB,CACf,CACI,GAAGD,EACH,SAAU,CAAE,EAAG,EAAG,EAAG,EAAG,MAAOT,EAAO,MAAQ,EAAG,OAAQA,EAAO,MAAO,EACvE,KAAM,CAAE,SAAU,aAAc,YAAa,EAAG,YAAaQ,EAAc,CAAE,CACjF,EACA,CACI,GAAGC,EACH,SAAU,CAAE,EAAGT,EAAO,MAAQ,EAAG,EAAG,EAAG,MAAOA,EAAO,MAAQ,EAAG,OAAQA,EAAO,MAAO,EACtF,KAAM,CAAE,SAAU,aAAc,YAAa,EAAG,YAAaQ,EAAc,CAAE,CACjF,CACJ,CACJ,EAEAN,EAAM,OAAO,CAAE,gBAAiB,CAAC,CAAE,aAAc,CAACQ,CAAE,EAAG,CAAA,CAAG,EAE1DR,EAAM,cAAcG,CAAQ"}