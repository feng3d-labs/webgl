import"../../modulepreload-polyfill-B5Qt9EMX.js";import{g as s}from"../../utility-BL6jGTgT.js";import{W as x}from"../../WebGL-lLSa4FVc.js";import{c as p,s as E}from"../../mat4-BHCnbM9z.js";import{c as P,s as b}from"../../vec3-BLfYq55O.js";import"../../common-C8IKy_GC.js";const e=document.createElement("canvas");e.id="glcanvas";e.width=Math.min(window.innerWidth,window.innerHeight);e.height=e.width;document.body.appendChild(e);const y={canvasId:"glcanvas",webGLcontextId:"webgl2"},r=new x(y),t={TEXTURE:0,SPLASH:1},n=[{vertex:{code:s("vs-render")},fragment:{code:s("fs-render")},primitive:{topology:"triangle-list"}},{vertex:{code:s("vs-splash")},fragment:{code:s("fs-splash")},primitive:{topology:"triangle-list"}}],a=18,c=new Float32Array(a*2);let i;const l=.1;for(let o=0;o<a;o++)i=Math.PI*2*o/a,c[2*o]=l*Math.sin(i),c[2*o+1]=l*Math.cos(i);const A=new Float32Array([-1,-1,1,-1,1,1,1,1,-1,1,-1,-1]),S=new Float32Array([0,1,1,1,1,0,1,0,0,0,0,1]),m={x:e.width,y:e.height},d={descriptor:{format:"rgba8unorm",size:[m.x,m.y]}},v={minFilter:"nearest",magFilter:"nearest"},g={colorAttachments:[{view:{texture:d,baseMipLevel:0},clearValue:[0,0,0,1]}],sampleCount:4},f=[{vertices:{position:{data:c,format:"float32x2"}}},{vertices:{position:{data:A,format:"float32x2"},texcoord:{data:S,format:"float32x2"}}}],u=p(),T={descriptor:g,renderPassObjects:[{pipeline:{...n[t.TEXTURE],primitive:{topology:"LINE_LOOP"}},bindingResources:{MVP:{value:u}},vertices:f[t.TEXTURE].vertices,draw:{__type__:"DrawVertex",vertexCount:a}}]},h=P();b(h,8,8,8);const w=p();E(w,u,h);const R={descriptor:{colorAttachments:[{clearValue:[0,0,0,1],loadOp:"clear"}]},renderPassObjects:[{pipeline:n[t.SPLASH],bindingResources:{diffuse:{texture:d,sampler:v},MVP:{value:w}},vertices:f[t.SPLASH].vertices,draw:{__type__:"DrawVertex",vertexCount:6}}]};r.submit({commandEncoders:[{passEncoders:[T,R]}]});r.deleteTexture(d);r.deleteSampler(v);r.deleteFramebuffer(g);r.deleteProgram(n[t.TEXTURE]);r.deleteProgram(n[t.SPLASH]);
//# sourceMappingURL=fbo_multisample.html-Ad6LLOA6.js.map
