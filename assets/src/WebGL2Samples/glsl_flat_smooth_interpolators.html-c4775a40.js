import"../../modulepreload-polyfill-3cfb730f.js";import{g as v}from"../../utility-e972c1ee.js";import{W as _}from"../../WebGL-b4686ab5.js";import{G as F}from"../../gltf-loader-223361d8.js";import{c as T,s as G}from"../../vec3-5d562fd8.js";import{c as d,t as R,s as C,p as N,b as W,m as O,i as $,a as q}from"../../mat4-90bd9af0.js";import"../../common-d8a29b8a.js";const i=document.createElement("canvas");i.id="glcanvas";i.width=window.innerWidth;i.height=window.innerHeight;document.body.appendChild(i);const z={canvasId:"glcanvas",webGLcontextId:"webgl2"},H=new _(z),t={x:i.width,y:i.height},x={LEFT:0,RIGHT:1,MAX:2},y=new Array(x.MAX);y[x.LEFT]={x:0,y:t.y-t.x/2-50,width:t.x/2,height:t.x/2};y[x.RIGHT]={x:t.x/2,y:t.y-t.x/2-50,width:t.x/2,height:t.x/2};const P=[{vertex:{code:v("vs-flat")},fragment:{code:v("fs-flat")},depthStencil:{depthCompare:"less-equal"}},{vertex:{code:v("vs-smooth")},fragment:{code:v("fs-smooth")},depthStencil:{depthCompare:"less-equal"}}],X="../../assets/gltf/di_model_tri.gltf",Y=new F;Y.loadGLTF(X,function(S){const m=S.scenes[S.defaultScene],p={};let a,s,A,e,f;for(const n in m.meshes)for(a=m.meshes[n],p[n]=[],e=0,f=a.primitives.length;e<f;++e){s=a.primitives[e];const c=s.vertexBuffer,w=s.indices,r=s.attributes.POSITION,l=s.attributes.NORMAL;A={vertices:{position:{data:c,format:["float32","float32x2","float32x3","float32x4"][r.size],arrayStride:r.stride,offset:r.offset},normal:{data:c,format:["float32","float32x2","float32x3","float32x4"][l.size],arrayStride:l.stride,offset:l.offset}}},p[n].push({vertexArray:A,indices:w})}const b=T();G(b,0,-18,-60);const I=T(),g=.3;G(I,g,g,g);const o=d();R(o,o,b),C(o,o,I);const E=.01,L=d();N(L,.785,1,1,1e3);const u=d(),M=d(),h=d();(function n(){const c=[],w={descriptor:{colorAttachments:[{clearValue:[0,0,0,1],loadOp:"clear"}],depthStencilAttachment:{depthLoadOp:"clear"}},renderObjects:c};W(o,o,E);for(const r in m.meshes)for(a=m.meshes[r],e=0,f=a.primitives.length;e<f;++e){s=a.primitives[e],O(u,o,s.matrix),O(M,L,u),$(h,u),q(h,h);const l=p[r][e].vertexArray,V=p[r][e].indices;for(e=0;e<x.MAX;++e)c.push({viewport:y[e],pipeline:P[e],bindingResources:{mvp:M,mvNormal:h},geometry:{primitive:{topology:"triangle-list"},vertices:l.vertices,indices:V,draw:{__type__:"DrawIndexed",indexCount:s.indices.length,firstIndex:0}}})}H.submit({commandEncoders:[{passEncoders:[w]}]}),requestAnimationFrame(n)})()});
//# sourceMappingURL=glsl_flat_smooth_interpolators.html-c4775a40.js.map
